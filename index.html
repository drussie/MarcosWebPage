<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lab • Marcos</title>
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#0b0f19" />
  <link rel="stylesheet" href="/assets/site.css" />
</head>
<body class="site">
  <header class="site-header">
    <a class="brand" href="/">MO<span>·Lab</span></a>
    <nav class="actions">
      <button id="themeToggle" class="btn">Theme</button>
    </nav>
  </header>

  <main class="container">
    <h1 class="title">Apps</h1>
    <p class="muted">Quick tools I use personally.</p>

    <section id="appGrid" class="grid"></section>
  </main>

  <footer class="site-footer">
    <span>© 2025 Marcos Ondruska</span>
    <span class="muted">Install on iPhone: Share → Add to Home Screen</span>
  </footer>

  <script type="module" src="/assets/site.js"></script>
  <script type="module">
    const grid = document.getElementById('appGrid');

    async function loadApps() {
      try {
        const res = await fetch('/apps/apps.json', { cache: 'no-cache' });
        if (!res.ok) throw new Error('apps.json not found');
        const apps = await res.json();

        grid.innerHTML = apps.map(a => `
          <a class="card card-link" href="${a.href}">
            <div class="card-title">${a.title}</div>
            <div class="card-desc">${a.desc || ''}</div>
          </a>
        `).join('');
      } catch {
        // Fallback: show the original 3 if apps.json missing
        grid.innerHTML = `
          <a class="card card-link" href="/apps/car_loan_calculator.html">
            <div class="card-title">Car Loan Calculator</div>
            <div class="card-desc">Monthly & amortization.</div>
          </a>
          <a class="card card-link" href="/apps/mortgage_calculator.html">
            <div class="card-title">Mortgage Calculator</div>
            <div class="card-desc">All‑in (P&I, tax, ins, HOA).</div>
          </a>
          <a class="card card-link" href="/apps/round_robin.html">
            <div class="card-title">Round Robin (Tennis)</div>
            <div class="card-desc">Schedule, scores, standings.</div>
          </a>`;
      }
    }

    loadApps();
  </script>
</body>
</html>
